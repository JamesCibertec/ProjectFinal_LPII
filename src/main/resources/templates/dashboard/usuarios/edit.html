<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{layout-back/basedashboard :: base(~{::body})}">
<body>

<div th:fragment="contenido">
	<h2 class="mb-4"><b>Modificar de Usuarios</b></h2>
	  <hr>
	  <!-- Formulario Usuario + Datos Personales -->
	  <form id="formUsuario" class="row g-3 mb-4" th:action="@{/dashboard/usuarios/save}"  method="post" th:object="${usuarios}">
	    <input type="hidden" id="id" name="id" th:field="*{id}">

	    <!-- Datos personales (de personas) -->
	    <div class="col-md-4">
	      <label for="nombres" class="form-label">Nombres</label>
	      <input type="text" class="form-control" id="nombres" name="nombres" th:field="*{nombres}" required>
	    </div>

	    <div class="col-md-4">
	      <label for="apellidos" class="form-label">Apellidos</label>
	      <input type="text" class="form-control" id="apellidos" name="apellidos" th:field="*{apellidos}" required>
	    </div>

	    <div class="col-md-4">
	      <label for="dni" class="form-label">DNI</label>
	      <input type="text" class="form-control" id="dni" name="dni" maxlength="8" th:field="*{dni}" required>
	    </div>

	    <div class="col-md-4">
	      <label for="telefono" class="form-label">Teléfono</label>
	      <input type="text" class="form-control" id="telefono" name="telefono" th:field="*{telefono}">
	    </div>

	    <div class="col-md-8">
	      <label for="direccion" class="form-label">Dirección</label>
	      <input type="text" class="form-control" id="direccion" name="direccion" th:field="*{direccion}">
	    </div>

	    <!-- Datos de usuario -->
	    <div class="col-md-4">
	      <label for="nombreusuario" class="form-label">Usuario</label>
	      <input type="text" class="form-control" id="nombreusuario" name="nombreusuario" th:field="*{nombreusuario}" required>
	    </div>

	    <div class="col-md-4">
	      <label for="contrasena" class="form-label">Contraseña</label>
	      <input type="text" class="form-control" id="contrasena" name="contrasena" th:field="*{contrasena}" required>
	    </div>

		<div class="col-md-4">
		    <label for="rol" class="form-label">Rol</label>
		    <select class="form-select" id="rol" name="rol" th:field="*{rol}">
		        <option value="">Seleccione...</option>
		        <option th:each="r : ${rol}" 
		                th:if="${r.nombre != 'Cliente'}"
		                th:value="${r.id}" 
		                th:text="${r.nombre}">
		        </option>
		    </select>
		</div>
	    <div class="col-md-2">
	      <label for="estado" class="form-label">Estado</label>
	      <select id="estado" class="form-select" name="estado" th:field="*{estado}">
	        <option th:value="true" th:text="'Activo'">Activo</option>
	        <option th:value="false" th:text="'Inactivo'">Inactivo</option>
	      </select>
	    </div>

	    <div class="col-12 text-end">
	      <button type="submit" class="btn btn-primary">Guardar</button>
	      <button type="reset" class="btn btn-secondary">Limpiar</button>
	    </div>
	  </form>
</div>
</body>
</html>